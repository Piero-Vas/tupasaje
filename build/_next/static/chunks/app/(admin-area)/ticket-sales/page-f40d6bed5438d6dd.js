(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4442],{7700:function(e,t,i){Promise.resolve().then(i.bind(i,6040))},6040:function(e,t,i){"use strict";i.r(t);var n=i(7437),a=i(4033),c=i(2265),r=i(2046),s=i(2993),l=i(5651),d=i(7801),o=i(1490);t.default=()=>{let e=(0,c.useId)(),t=(0,a.useRouter)(),i=o.Z.get("token"),u=(0,s.T)(),[m,x]=(0,c.useState)("IDA"),{data:h,error:y,isLoading:p,isFetching:f}=(0,l.m)(null),b=(0,s.C)(e=>e.ItinerarySelected.cityDestinationValue),g=(0,s.C)(e=>e.ItinerarySelected.cityOriginValue);(0,s.C)(e=>e.ItinerarySelected.dateSince),(0,s.C)(e=>e.ItinerarySelected.dateUntil),(0,c.useEffect)(()=>{j()},[]);let j=async()=>{try{let e=await fetch("".concat("http://3.14.43.44:4567","/cashierbox/list?id_office=2"),{method:"GET",headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"}}),n=await e.json(),a=n.data.cashierBox[0].state;0==a&&t.push("/checkout")}catch(e){console.log(e)}},v=()=>{"IDA"===m?(x("VUELTA"),u((0,d.Wi)(!0))):(u((0,d.Wi)(!1)),x("IDA"))},N=async e=>{e.preventDefault(),0==b||0==g?console.log("Seleccione una citudad"):t.push("/ticket-sales/itinerary")};return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"flex flex-row justify-between",children:(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)("h2",{className:"text-xl font-bold text-primary",children:"B\xfasqueda"})})}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)("form",{method:"dialog",className:"modal-box w-8/12 max-w-5xl p-0",onSubmit:N,children:[(0,n.jsx)("div",{className:"flex justify-center align-center py-7 ",children:(0,n.jsx)("div",{className:"text-black text-xl font-medium ",children:"BUSCAR VIAJES"})}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)("div",{className:"tabs tabs-boxed rounded-[14px]",children:[(0,n.jsx)("a",{className:(0,r.cn)("tab grow px-8","IDA"===m&&"tab-active"),onClick:v,children:"Solo ida"}),(0,n.jsx)("a",{className:(0,r.cn)("tab grow px-8","VUELTA"===m&&"tab-active"),onClick:v,children:"Ida y Vuelta"})]})}),(0,n.jsx)("div",{className:"grid grid-cols-1 px-4 py-4",children:(0,n.jsxs)("div",{className:"pr-4 ",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{htmlFor:"".concat(e,"-city-origin"),className:"block  mb-2 font-medium text-sm ",children:"Ciudad de origen"}),(0,n.jsxs)("select",{required:!0,defaultValue:0,onChange:e=>{let t=parseInt(e.target.value),i=e.target.options[e.target.selectedIndex].getAttribute("data-custom");u((0,d.m2)({cityOriginValue:t,cityOrigin:i}))},id:"".concat(e,"-city-origin"),className:"select select-bordered w-full bg-bginput text-sm",children:[(0,n.jsx)("option",{value:0,disabled:!0,selected:!0,children:"Elegir una opcion"},0),null==h?void 0:h.data.cities.map(e=>(0,n.jsx)("option",{value:e.id_city,"data-custom":e.city_name,children:e.city_name},e.id_city))]})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{htmlFor:"".concat(e,"-city-destination"),className:"block mb-2 font-medium text-sm ",children:"Ciudad de destino"}),(0,n.jsxs)("select",{defaultValue:0,id:"".concat(e,"-city-destination"),onChange:e=>{let t=parseInt(e.target.value),i=e.target.options[e.target.selectedIndex].getAttribute("data-custom");u((0,d.RL)({cityDestinationValue:t,cityDestination:i}))},className:"select select-bordered w-full bg-bginput text-sm",required:!0,children:[(0,n.jsx)("option",{value:0,disabled:!0,selected:!0,children:"Elegir una opcion"},0),null==h?void 0:h.data.cities.map(e=>(0,n.jsx)("option",{value:e.id_city,"data-custom":e.city_name,children:e.city_name},e.id_city))]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2",children:[(0,n.jsxs)("div",{className:"mb-4 mr-4",children:[(0,n.jsx)("label",{htmlFor:"country",className:"block mb-2 font-medium text-sm ",children:"Fecha de ida"}),(0,n.jsx)("input",{type:"date",id:"country",className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,onChange:e=>{let t=e.target.value;u((0,d.ax)(t))}})]}),"VUELTA"===m?(0,n.jsxs)("div",{className:"mb-4 mr-4",children:[(0,n.jsx)("label",{htmlFor:"country",className:"block mb-2 font-medium text-sm ",children:"Fecha de vuelta"}),(0,n.jsx)("input",{type:"date",id:"country",className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",placeholder:"Nombre del terminal",onChange:e=>{let t=e.target.value;u((0,d.tY)(t))}})]}):(0,n.jsx)("div",{})]})]})}),(0,n.jsx)("hr",{}),(0,n.jsx)("div",{className:"flex justify-end px-4 py-4",children:(0,n.jsx)("button",{type:"submit",className:" bg-primary text-white font-medium py-2 px-4 rounded-br11 hover:bg-tertiary transition-colors text-base",children:"Guardar"})})]})})]})}},5215:function(e,t,i){"use strict";i.d(t,{OT:function(){return a},T5:function(){return n},lC:function(){return c}});let n="http://3.14.43.44:4567",a=1,c="production"},7801:function(e,t,i){"use strict";i.d(t,{RL:function(){return c},Wi:function(){return d},ax:function(){return s},m2:function(){return r},tY:function(){return l}});var n=i(4302);let a=(0,n.createSlice)({name:"ItinerarySelected",initialState:{cityDestinationValue:0,cityDestination:"",cityOriginValue:0,cityOrigin:"",dateSince:"",dateUntil:"",roundTrip:!1},reducers:{changecityDestination:(e,t)=>{let{cityDestinationValue:i,cityDestination:n}=t.payload;e.cityDestinationValue=i,e.cityDestination=n},changecityOrigin:(e,t)=>{let{cityOriginValue:i,cityOrigin:n}=t.payload;e.cityOriginValue=i,e.cityOrigin=n},changedateSince:(e,t)=>{e.dateSince=t.payload},changedateUntil:(e,t)=>{e.dateUntil=t.payload},changeValidTrip:(e,t)=>{e.roundTrip=t.payload}}}),{changecityDestination:c,changecityOrigin:r,changedateSince:s,changedateUntil:l,changeValidTrip:d}=a.actions;t.ZP=a.reducer},2993:function(e,t,i){"use strict";i.d(t,{C:function(){return c},T:function(){return a}});var n=i(1023);let a=()=>(0,n.I0)(),c=n.v9},5651:function(e,t,i){"use strict";i.d(t,{Y:function(){return l},m:function(){return d}});var n=i(8324),a=i(2967),c=i(5215),r=i(1490);let s=r.Z.get("token"),l=(0,n.LC)({reducerPath:"cityApi",baseQuery:(0,a.ni)({baseUrl:c.T5,headers:{Authorization:"Bearer ".concat(s)}}),endpoints:e=>({getCity:e.query({query:()=>"/cities/list"})})}),{useGetCityQuery:d}=l},2046:function(e,t,i){"use strict";i.d(t,{cn:function(){return c}});var n=i(7042),a=i(3986);function c(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,a.m)((0,n.W)(t))}},4033:function(e,t,i){e.exports=i(8165)}},function(e){e.O(0,[1677,1023,4302,3069,2971,596,1744],function(){return e(e.s=7700)}),_N_E=e.O()}]);