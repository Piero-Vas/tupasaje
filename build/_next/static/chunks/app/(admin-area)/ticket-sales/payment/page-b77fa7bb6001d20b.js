(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2646],{842:function(e,t,s){"use strict";var a,n,l=s(2265);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}t.Z=function(e){return l.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},e),l.createElement("mask",{id:"addimage_svg__a",width:48,height:48,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},a||(a=l.createElement("path",{fill:"#D9D9D9",d:"M0 0h48v48H0z"}))),n||(n=l.createElement("g",{mask:"url(#addimage_svg__a)"},l.createElement("path",{fill:"#4185EF",d:"M9 42a2.889 2.889 0 0 1-2.119-.881A2.89 2.89 0 0 1 6 39V9c0-.825.294-1.531.881-2.119A2.889 2.889 0 0 1 9 6h20.45v3H9v30h30V18.6h3V39c0 .825-.294 1.531-.881 2.119A2.889 2.889 0 0 1 39 42H9Zm26-24.9v-4.05h-4.05v-3H35V6h3v4.05h4.05v3H38v4.05h-3ZM12 33.9h24l-7.2-9.6-6.35 8.35-4.7-6.2L12 33.9Z"}))))}},630:function(e,t,s){Promise.resolve().then(s.bind(s,4435))},4435:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(7437),n=s(3159),l=s(9150),r=s(4033),i=s(8085),c=s(1490);s(6820);var o=s(2993),d=()=>{c.Z.get("token");let e=(0,o.C)(e=>e.seatsReserved.totalSeats),t=(0,o.C)(e=>e.dataCustomer.value);return(0,a.jsx)(i.r,{columns:["NOMBRE","SERVICIO","PISO","N\xb0 ASIENTOS","TARIFA"],data:t.map(t=>[t.name,t.document,1,"",30*e]),resizable:!0,style:{td:{"text-align":"center"}}})},m=s(842),u=s(2046),x=s(2265),p=s(6004);let h={id_itinerary:0,id_customer:null,travel_date:"",status:"pending",payment_status:"pending",code_transaction:"",url_image_transaction:"",type_pay:"",price_final:0,type_document:"BOLETA",seats:[],customer_info:{}};var b=()=>{let e=(0,x.useId)();(0,o.C)(e=>e.ItinerarySelected.cityDestination);let t=(0,o.C)(e=>e.ItinerarySelected.cityDestination),s=(0,o.C)(e=>e.ItinerarySelected.cityOrigin),i=(0,o.C)(e=>e.ItinerarySelected.dateSince),[c,b]=(0,x.useState)("RESERVAR"),[f,g]=(0,x.useState)(h),j=(0,r.useRouter)(),v=(0,o.C)(e=>e.selectTrip.value),y=(0,o.C)(e=>e.dataCustomer.value),[N,w]=(0,x.useState)([{name:"",last_name:"",address:"1",phone:"",email:"",identification_number:"",identification_type:"DNI"}]),[{loading:C},_]=(0,p.b)({method:"POST",url:"/bookings/create"},{manual:!0}),O=(e,t)=>{let{name:s,value:a}=e.target,n=[...N];n[t]={...n[t],[s]:a},w(n)},k=async()=>{console.log("Datos de todos los formularios:",N);let e=[{seat_id:541,passenger_data:y[0]}];console.log(e);try{await _({data:{id_itinerary:v,id_customer:null,travel_date:i,status:"pending",payment_status:"pending",code_transaction:"",url_image_transaction:"",type_pay:"Efectivo",price_final:30*D,type_document:"BOLETA",seats:e,customer_info:N[0]}}),g(h),j.push("/ticket-sales/ticket")}catch(e){console.error("Create failed:",e)}},A=async()=>{j.push("/ticket-sales")},E=async()=>{j.push("/ticket-sales/datacustomer")},[R,S]=(0,x.useState)(null),[I,T]=(0,x.useState)(null),D=(0,o.C)(e=>e.seatsReserved.totalSeats);console.log(D);let P=()=>{"RESERVAR"===c?b("COMPRAR"):b("RESERVAR")};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between p-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-primary",children:"Pago"}),(0,a.jsxs)("button",{onClick:A,className:"btn btn-outline py-0 ",children:[(0,a.jsx)(n.aHS,{className:"mr-2 "}),(0,a.jsx)("span",{children:" Cancelar"})]})]}),(0,a.jsxs)("div",{className:" grid grid-cols-1 xl:grid-cols-2 xl:space-x-4 xl:space-y-0  space-y-4 space-x-0 mr-4 ",children:[(0,a.jsx)("div",{className:" w-full border rounded-lg p-4 bg-white shadow shadow-slate-200 ",children:(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"grow flex items-center",children:[(0,a.jsx)("div",{className:"p-1 mr-4 rounded-full bg-bgblack text-sm",children:(0,a.jsx)(l.y1n,{className:"text-white"})}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"text-sm",children:"IDA"}),(0,a.jsxs)("div",{className:"text-sm text-primary",children:[s," - ",t]})]})]}),(0,a.jsxs)("div",{className:"items-center  ",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"",children:"SALIDA:"}),(0,a.jsx)("div",{className:"font-bold",children:i})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"",children:"SUBTOTAL:"}),(0,a.jsxs)("div",{className:"font-bold text-primary",children:["S/. ",30*D]})]})]})]}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(d,{})})]})}),(0,a.jsxs)("div",{className:" w-full border rounded-lg p-4 bg-white shadow shadow-slate-200 ",children:[(0,a.jsxs)("div",{className:"bg-textGreen p-4 rounded-xl flex justify-between text-white font-bold",children:[(0,a.jsx)("div",{children:"MONTO TOTAL A PAGAR"}),(0,a.jsxs)("div",{children:["S/. ",30*D]})]}),(0,a.jsx)("div",{className:"text-textGreen font-medium py-2 my-2 ",children:"DATOS DEL PAGADOR"}),(0,a.jsx)("form",{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 ",children:[(0,a.jsxs)("div",{className:"pr-2 mt-4",children:[(0,a.jsx)("label",{htmlFor:"type_document",className:"block mb-1  font-medium text-sm  ",children:"Tipo de documento"}),(0,a.jsxs)("select",{id:"".concat(e,"-create-booking-type-document"),defaultValue:"DNI",className:"select select-bordered rounded-xl w-full max-w-xs bg-bginput",children:[(0,a.jsx)("option",{value:"DNI",selected:!0,children:"DNI"}),(0,a.jsx)("option",{value:"DNI",children:"Pasaporte"})]})]}),(0,a.jsxs)("div",{className:"pl-2 mt-4",children:[(0,a.jsx)("label",{htmlFor:"dni",className:"block mb-1 font-medium text-sm  ",children:"DNI"}),(0,a.jsx)("input",{id:"".concat(e,"-create-booking-dni"),type:"text",className:"w-full py-3 px-5 rounded-xl bg-bginput text-sm ",required:!0,placeholder:"Ingresa nro. de DNI",name:"identification_number",onChange:e=>O(e,0)})]}),(0,a.jsxs)("div",{className:"pr-2 mt-4",children:[(0,a.jsx)("label",{htmlFor:"name",className:"block mb-1  font-medium text-sm  ",children:"Nombres"}),(0,a.jsx)("input",{id:"".concat(e,"-create-booking-name"),type:"text",className:"w-full py-3 px-5 rounded-xl bg-bginput text-sm ",required:!0,placeholder:"Ingresa tus nombres",name:"name",onChange:e=>O(e,0)})]}),(0,a.jsxs)("div",{className:"pl-2 mt-4",children:[(0,a.jsx)("label",{htmlFor:"lastname",className:"block mb-1 font-medium text-sm  ",children:"Apellido"}),(0,a.jsx)("input",{id:"".concat(e,"-create-booking-lastname"),type:"text",className:"w-full py-3 px-5 rounded-xl bg-bginput text-sm ",required:!0,placeholder:"Ingresa tus apellidos",name:"last_name",onChange:e=>O(e,0)})]}),(0,a.jsxs)("div",{className:"pr-2 mt-4",children:[(0,a.jsx)("label",{htmlFor:"email",className:"block mb-1  font-medium text-sm  ",children:"Correo"}),(0,a.jsx)("input",{id:"".concat(e,"-create-booking-email"),type:"text",className:"w-full py-3 px-5 rounded-xl bg-bginput text-sm ",required:!0,placeholder:"Ingresa tu correo",name:"email",onChange:e=>O(e,0)})]}),(0,a.jsxs)("div",{className:"pl-2 mt-4",children:[(0,a.jsx)("label",{htmlFor:"username",className:"block mb-1 font-medium text-sm  ",children:"Telefono"}),(0,a.jsx)("input",{type:"text",className:"w-full py-3 px-5 rounded-xl bg-bginput text-sm ",required:!0,placeholder:"Ingresa tu tel\xe9fono",name:"phone",onChange:e=>O(e,0)})]})]})},1),(0,a.jsx)("hr",{className:"my-5"}),(0,a.jsx)("div",{className:"flex justify-center mb-8 bg-red",children:(0,a.jsxs)("div",{className:"tabs tabs-boxed rounded-[14px]",children:[(0,a.jsx)("a",{className:(0,u.cn)("tab grow px-8","COMPRAR"===c&&"tab-active"),onClick:P,children:"COMPRAR"}),(0,a.jsx)("a",{className:(0,u.cn)("tab grow px-8","RESERVAR"===c&&"tab-active"),onClick:P,children:"RESERVAR"})]})}),"COMPRAR"===c?(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("div",{className:"text-textGreen font-medium py-2 my-2 ",children:"Pago"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"collapse  bg-white border border-textGreen ",children:[(0,a.jsx)("input",{type:"radio",name:"my-accordion-6"}),(0,a.jsxs)("div",{className:"collapse-title text-sm font-medium flex justify-between",children:["EFECTIVO"," ",(0,a.jsx)("input",{type:"radio",name:"my-accordion-6",className:"radio border border-textGreen"})]}),(0,a.jsx)("div",{className:"collapse-content",children:(0,a.jsxs)("div",{className:"grid grid-cols-2",children:[(0,a.jsxs)("div",{className:"pr-2 mt-4",children:[(0,a.jsx)("label",{htmlFor:"username",className:"block mb-1 font-medium text-sm  ",children:"Tipo de documento"}),(0,a.jsx)("input",{type:"text",className:"w-full py-3 px-5 rounded-xl bg-bginput text-sm ",required:!0,placeholder:"S/. 00.0"})]}),(0,a.jsxs)("div",{className:"pr-2 mt-4",children:[(0,a.jsx)("label",{htmlFor:"username",className:"block mb-1 font-medium text-sm  ",children:"Cambio de"}),(0,a.jsx)("input",{type:"text",className:"w-full py-3 px-5 rounded-xl bg-bginput text-sm ",required:!0,placeholder:"S/. 00.0"})]})]})})]}),(0,a.jsxs)("div",{className:"collapse bg-white border border-textGreen",children:[(0,a.jsx)("input",{type:"radio",name:"my-accordion-6"}),(0,a.jsxs)("div",{className:"collapse-title text-sm font-medium flex justify-between",children:["TARJETAS DE CR\xc9DITO O D\xc9BITO"," ",(0,a.jsx)("input",{type:"radio",name:"my-accordion-6",className:"radio border border-textGreen"})]}),(0,a.jsx)("div",{className:"collapse-content",children:(0,a.jsxs)("div",{className:"pr-2 mt-4",children:[(0,a.jsx)("label",{className:"block mb-1 font-medium text-sm  ",children:"Cambio de"}),(0,a.jsx)("input",{type:"text",className:"w-full py-3 px-5 rounded-xl bg-bginput text-sm ",required:!0,placeholder:"Ingresa el c\xf3digo del voucher"})]})})]}),(0,a.jsxs)("div",{className:"collapse bg-white border border-textGreen",children:[(0,a.jsx)("input",{type:"radio",name:"my-accordion-6"}),(0,a.jsxs)("div",{className:"collapse-title text-sm font-medium flex justify-between",children:["BILLETERA VIRTUAL",(0,a.jsx)("input",{type:"radio",name:"my-accordion-6",className:"radio border border-textGreen"})]}),(0,a.jsx)("div",{className:"collapse-content",children:(0,a.jsxs)("label",{htmlFor:"dropzone-file",className:(0,u.cn)("flex bg-cover bg-no-repeat bg-center flex-col items-center justify-center w-9/12 h-[20rem] cursor-pointer rounded-lg overflow-hidden",R?"":"border border-dashed border-gray-200"),style:{backgroundImage:null!=R?R:void 0},children:[(0,a.jsx)("div",{className:"flex flex-1",children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:I?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{className:"mb-4"}),(0,a.jsxs)("p",{className:(0,u.cn)("text-center w-8/12 text-sm",R?"text-white":"text-gray-500"),children:[(0,a.jsx)("span",{className:"font-semibold",children:"Arrastra y suelta"})," ","una imagen aqu\xed o haz clic para buscar en tu computadora"]})]})})}),(0,a.jsx)("input",{id:"dropzone-file",type:"file",className:"hidden",accept:".png, .jpg, .jpeg",onChange:e=>{let t=e.target.files[0];if(t){T(t.name);let e=new FileReader;e.onload=e=>{var t;S("url(".concat(null===(t=e.target)||void 0===t?void 0:t.result,")"))},e.readAsDataURL(t)}}})]})})]})]}),"  "]}):(0,a.jsx)("p",{}),(0,a.jsx)("div",{className:"flex justify-end ",children:(0,a.jsxs)("div",{className:"grid grid-cols-2  mt-4 w-96 gap-4",children:[(0,a.jsx)("button",{onClick:E,className:"w-full m-2 btn btn-outline hover:bg-primary hover:border-white text-primary normal-case font-medium rounded-xl",children:"Atr\xe1s"}),(0,a.jsx)("button",{onClick:k,className:"w-full  m-2 btn btn-info bg-primary hover:bg-secondary text-white rounded-xl border-white normal-case font-medium",children:"Continuar"})]})})]})]})]})}},5215:function(e,t,s){"use strict";s.d(t,{OT:function(){return n},T5:function(){return a},lC:function(){return l}});let a="http://3.14.43.44:4567",n=1,l="production"},6004:function(e,t,s){"use strict";s.d(t,{b:function(){return o}});var a=s(5262),n=s(9222),l=s(5215),r=s(1490);let i=r.Z.get("token"),c=n.Z.create({baseURL:l.T5,headers:{Authorization:"Bearer ".concat(i)}}),o=(0,a.gd)({axios:c})},2993:function(e,t,s){"use strict";s.d(t,{C:function(){return l},T:function(){return n}});var a=s(1023);let n=()=>(0,a.I0)(),l=a.v9},2046:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var a=s(7042),n=s(3986);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m)((0,a.W)(t))}},4033:function(e,t,s){e.exports=s(8165)},1172:function(e,t,s){"use strict";s.d(t,{w_:function(){return c}});var a=s(2265),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=a.createContext&&a.createContext(n),r=function(){return(r=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};function c(e){return function(t){return a.createElement(o,r({attr:r({},e.attr)},t),function e(t){return t&&t.map(function(t,s){return a.createElement(t.tag,r({key:s},t.attr),e(t.child))})}(e.child))}}function o(e){var t=function(t){var s,n=e.attr,l=e.size,c=e.title,o=i(e,["attr","size","title"]),d=l||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),a.createElement("svg",r({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:s,style:r(r({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&a.createElement("title",null,c),e.children)};return void 0!==l?a.createElement(l.Consumer,null,function(e){return t(e)}):t(n)}}},function(e){e.O(0,[2420,3712,1677,1729,8085,6820,1023,2971,596,1744],function(){return e(e.s=630)}),_N_E=e.O()}]);