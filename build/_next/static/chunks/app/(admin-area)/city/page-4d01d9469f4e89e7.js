(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7929],{14:function(e,t,r){"use strict";r.d(t,{_Y:function(){return a}});var a={search:{placeholder:"Buscar..."},sort:{sortAsc:"Ordenar la columna en orden ascendente",sortDesc:"Ordenar la columna en orden descendente"},pagination:{previous:"Anterior",next:"Siguiente",navigate:function(e,t){return"P\xe1gina "+e+" de "+t},page:function(e){return"P\xe1gina "+e},showing:"Mostrando registros del",of:"de un total de",to:"al",results:"registros"},loading:"Cargando...",noRecordsFound:"No se encontraron registros",error:"Se produjo un error al recuperar datos"}},9408:function(e,t,r){Promise.resolve().then(r.bind(r,9336))},9336:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var a=r(7437),n=r(2265),c=r(8085),i=r(1490),o=r(14),l=r(1812),s=r(7431),d=r(6820),u=r.n(d),m=r(6004),x=e=>{let{openEditCityModal:t}=e,[{loading:r},n]=(0,m.b)({method:"DELETE"},{manual:!0}),d=i.Z.get("token"),x=e=>{t(e)},h=async e=>{u().fire({icon:"info",title:"\xbfEsta seguro que quiere eliminar esta ciudad?",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"Cancelar"}).then(async t=>{if(t.isConfirmed)try{await n({url:"/cities/".concat(e)}),u().fire("Borrado Correctamente","","success")}catch(e){console.error("Create failed:",e),u().fire({icon:"error",title:"Oops...",timer:2e3,text:"Credenciales incorrectas"})}})};return(0,a.jsx)(c.r,{columns:["NOMBRE","DEPARTAMENTO","PAIS","ACCIONES"],language:o._Y,server:{method:"GET",headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"},url:"".concat("http://3.14.43.44:4567","/cities/list/"),then:e=>e.data.cities.map(e=>[e.city_name,e.department,e.country,(0,c._)((0,a.jsxs)("div",{className:"flex justify-center",children:[(0,a.jsx)("button",{className:"h-10 w-10 border rounded-xl text-white text-xl flex items-center justify-center bg-primary",onClick:()=>{x({city_name:e.city_name,country:e.country,department:e.department,id_city:e.id_city})},children:(0,a.jsx)(s._vs,{})}),(0,a.jsx)("button",{className:"h-10 w-10 border rounded-xl text-white text-xl flex items-center justify-center bg-bgred",disabled:r,onClick:async()=>{await h(e.id_city)},children:(0,a.jsx)(l.SW4,{})})]}))]),handle:e=>{if(404===e.status)return{data:[]};if(e.ok)return e.json();throw Error("oh no :(")}},search:{},resizable:!0,sort:!0,footer:!1,style:{td:{"text-align":"center"}}})},h=r(2702),y=r(6468);let p={city:"",department:"",country:""};var b=()=>{let e=(0,n.useId)(),[t,r]=(0,n.useState)(p),[c,i]=(0,n.useState)({...p,id:null}),[{loading:o},l]=(0,m.b)({method:"POST",url:"/cities"},{manual:!0}),[{loading:s},d]=(0,m.b)({method:"PUT"},{manual:!0}),u=()=>{var t;null===(t=window["".concat(e,"-edit-city-modal")])||void 0===t||t.close(),i({...p,id:null})},b=async e=>{try{await l({data:{city_name:t.city,department:t.department,country:t.country}}),r(p)}catch(e){console.error("Create failed:",e)}},f=async()=>{try{let e=await d({url:"/cities/".concat(c.id),data:{city_name:c.city,department:c.department,country:c.country}});e.data&&u()}catch(e){console.log(e)}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-primary",children:"Administraci\xf3n de ciudades"})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(h.Z,{className:"rounded-xl",name:"Nueva Ciudad",onClick:()=>{window["".concat(e,"-create-city-modal")].showModal()}})})]}),(0,a.jsx)("div",{className:"w-full overflow-auto",children:(0,a.jsx)(x,{openEditCityModal:t=>{var r;i({id:t.id_city,city:t.city_name,department:t.department,country:t.country}),null===(r=window["".concat(e,"-edit-city-modal")])||void 0===r||r.showModal()}})}),(0,a.jsx)("dialog",{id:"".concat(e,"-create-city-modal"),className:"modal modal-middle",children:(0,a.jsxs)("form",{method:"dialog",className:"modal-box",onSubmit:b,children:[(0,a.jsxs)("div",{className:"flex  relative items-center justify-center",children:[(0,a.jsx)("div",{className:"grow h-14 flex justify-center items-center font-medium text-xl",children:"Nueva Ciudad"}),(0,a.jsx)("button",{onClick:t=>{t.preventDefault(),window["".concat(e,"-create-city-modal")].close()},className:"btn right-0 absolute btn-circle bg-thcolor text-primary text-3xl",children:(0,a.jsx)(y.IOM,{className:""})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-city-name"),className:"block mb-2 font-medium text-sm ",children:"Ciudad"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-create-city-name"),value:t.city,onChange:e=>{let{target:{value:a}}=e;r({...t,city:a})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"Nombre de la ciudad"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-city-department"),className:"block mb-2 font-medium text-sm ",children:"Departamento"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-create-city-department"),value:t.department,onChange:e=>{let{target:{value:a}}=e;r({...t,department:a})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"Nombre del departamento"})]}),(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-city-country"),className:"block mb-2 font-medium text-sm ",children:"Pa\xeds (Abreviatura Ej: PE)"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-create-city-country"),value:t.country,onChange:e=>{let{target:{value:a}}=e;r({...t,country:a})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"Nombre del pa\xeds"})]}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-primary text-white font-medium py-2 px-4 rounded-br11 hover:bg-tertiary transition-colors text-base",children:"Guardar"})]})}),(0,a.jsx)("dialog",{id:"".concat(e,"-edit-city-modal"),className:"modal modal-middle",children:(0,a.jsxs)("form",{method:"dialog",className:"modal-box",onSubmit:f,children:[(0,a.jsxs)("div",{className:"flex relative items-center justify-center",children:[(0,a.jsx)("div",{className:"grow h-14 flex justify-center items-center font-medium text-xl",children:"Editar Ciudad"}),(0,a.jsx)("button",{onClick:t=>{t.preventDefault(),window["".concat(e,"-edit-city-modal")].close()},className:"btn right-0 absolute btn-circle bg-thcolor text-primary text-3xl",children:(0,a.jsx)(y.IOM,{className:""})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-edit-city-name"),className:"block mb-2 font-medium text-sm ",children:"Ciudad"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-edit-city-name"),value:c.city,onChange:e=>{let{target:{value:t}}=e;i({...c,city:t})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"Nombre de la ciudad"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-city-department"),className:"block mb-2 font-medium text-sm ",children:"Departamento"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-create-city-department"),value:c.department,onChange:e=>{let{target:{value:t}}=e;i({...c,department:t})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"Nombre del departamento"})]}),(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-city-country"),className:"block mb-2 font-medium text-sm ",children:"Pa\xeds (Abreviatura Ej: PE)"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-create-city-country"),value:c.country,onChange:e=>{let{target:{value:t}}=e;i({...c,country:t})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"Nombre del pa\xeds"})]}),(0,a.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-primary text-white font-medium py-2 px-4 rounded-br11 hover:bg-tertiary transition-colors text-base",children:"Guardar"})]})})]})}},2702:function(e,t,r){"use strict";var a=r(7437),n=r(3159),c=r(2046);t.Z=e=>{let{name:t,onClick:r,className:i,...o}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("button",{onClick:r,className:(0,c.cn)("btn flex flex-row items-center text-white font-bold text-sm bg-primary rounded-full px-4 py-2 hover:bg-secondary",i),...o,children:[(0,a.jsx)(n.wEH,{className:"mr-2"}),(0,a.jsx)("span",{children:t})]})})}},5215:function(e,t,r){"use strict";r.d(t,{OT:function(){return n},T5:function(){return a},lC:function(){return c}});let a="http://3.14.43.44:4567",n=1,c="production"},6004:function(e,t,r){"use strict";r.d(t,{b:function(){return s}});var a=r(5262),n=r(9222),c=r(5215),i=r(1490);let o=i.Z.get("token"),l=n.Z.create({baseURL:c.T5,headers:{Authorization:"Bearer ".concat(o)}}),s=(0,a.gd)({axios:l})},2046:function(e,t,r){"use strict";r.d(t,{cn:function(){return c}});var a=r(7042),n=r(3986);function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m)((0,a.W)(t))}},1172:function(e,t,r){"use strict";r.d(t,{w_:function(){return l}});var a=r(2265),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},c=a.createContext&&a.createContext(n),i=function(){return(i=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},o=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};function l(e){return function(t){return a.createElement(s,i({attr:i({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return a.createElement(t.tag,i({key:r},t.attr),e(t.child))})}(e.child))}}function s(e){var t=function(t){var r,n=e.attr,c=e.size,l=e.title,s=o(e,["attr","size","title"]),d=c||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,s,{className:r,style:i(i({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==c?a.createElement(c.Consumer,null,function(e){return t(e)}):t(n)}}},function(e){e.O(0,[2420,6115,9982,3190,1677,1729,8085,6820,2971,596,1744],function(){return e(e.s=9408)}),_N_E=e.O()}]);