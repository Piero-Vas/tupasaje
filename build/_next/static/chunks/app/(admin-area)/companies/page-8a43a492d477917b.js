(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6691],{14:function(e,t,n){"use strict";n.d(t,{_Y:function(){return a}});var a={search:{placeholder:"Buscar..."},sort:{sortAsc:"Ordenar la columna en orden ascendente",sortDesc:"Ordenar la columna en orden descendente"},pagination:{previous:"Anterior",next:"Siguiente",navigate:function(e,t){return"P\xe1gina "+e+" de "+t},page:function(e){return"P\xe1gina "+e},showing:"Mostrando registros del",of:"de un total de",to:"al",results:"registros"},loading:"Cargando...",noRecordsFound:"No se encontraron registros",error:"Se produjo un error al recuperar datos"}},8771:function(e,t,n){Promise.resolve().then(n.bind(n,2449))},2449:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(7437),r=n(2265),s=n(2702),o=n(6468),l=n(8085),c=n(1490),i=n(14),m=n(1812),d=n(7431),u=n(8920),p=n(6820),x=n.n(p),h=n(6004),b=()=>{let[{loading:e},t]=(0,h.b)({method:"DELETE"},{manual:!0}),n=c.Z.get("token"),r=async e=>{x().fire({icon:"info",title:"\xbfEsta seguro que quiere eliminar esta empresa?",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"Cancelar"}).then(async n=>{if(n.isConfirmed)try{await t({url:"/companies/".concat(e)}),x().fire("Borrado Correctamente","","success")}catch(e){console.error("Create failed:",e),x().fire({icon:"error",title:"Oops...",timer:2e3,text:"Error al borrar compa\xf1ia"})}})};return(0,a.jsx)(l.r,{columns:["NOMBRE","CODIGO","RUC","N\xdaMERO RESPONSABLE","NOMBRE RESPONSABLE","ACCIONES"],language:i._Y,width:"auto",server:{method:"GET",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},url:"".concat("http://3.14.43.44:4567","/companies/list/"),then:e=>e.data.companies.map(e=>[e.company_name,e.id_company,e.tax_id,e.phone,e.responsible_name,(0,l._)((0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("button",{className:"h-10 w-10 border rounded-xl text-white text-xl flex items-center justify-center bg-primary",onClick:()=>{},children:(0,a.jsx)(d._vs,{})}),(0,a.jsx)("button",{className:"h-10 w-10 border rounded-xl text-white text-xl flex items-center justify-center bg-bgred",onClick:async()=>{await r(e.id_company)},children:(0,a.jsx)(m.SW4,{})}),(0,a.jsx)("button",{className:"h-10 w-10 border rounded-xl text-white text-xl flex items-center justify-center bg-bggris",children:(0,a.jsx)(u.$IY,{})})]}))]),handle:e=>{if(404===e.status)return{data:[]};if(e.ok)return e.json();throw Error("oh no :(")}},resizable:!0,search:{},sort:!0,footer:!1,style:!1})};let f={company_name:"",address:"",phone:"",tax_id:"",email:"",responsible_name:"",responsible_document:"",responsible_phone:""};var g=()=>{let e=(0,r.useId)(),[t,n]=(0,r.useState)(f),[{loading:l},c]=(0,h.b)({method:"POST",url:"/companies"},{manual:!0}),i=async e=>{try{let e=await c({data:{company_name:t.company_name,address:t.address,phone:t.phone,tax_id:t.tax_id,email:t.email,responsible_name:t.responsible_name,responsible_document:t.responsible_document,responsible_phone:t.responsible_phone}});console.log(e.data),n(f)}catch(e){console.error("Create failed:",e)}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-primary",children:"Administraci\xf3n de empresas"})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(s.Z,{className:"rounded-xl",name:"Nueva Empresa",onClick:()=>{window["".concat(e,"-create-companie-modal")].showModal()}})})]}),(0,a.jsx)("div",{className:"w-full mt-4 overflow-auto ",children:(0,a.jsx)(b,{})}),(0,a.jsx)("dialog",{id:"".concat(e,"-create-companie-modal"),className:"modal modal-middle",children:(0,a.jsxs)("form",{method:"dialog",className:"modal-box w-8/12 max-w-5xl",onSubmit:i,children:[(0,a.jsxs)("div",{className:"flex relative items-center justify-center",children:[(0,a.jsx)("div",{className:"grow h-14 flex justify-center items-center font-medium text-xl",children:"Nueva Empresa"}),(0,a.jsx)("button",{onClick:t=>{t.preventDefault(),window["".concat(e,"-create-companie-modal")].close()},className:"btn right-0 absolute btn-circle bg-thcolor text-primary text-3xl",children:(0,a.jsx)(o.IOM,{className:""})})]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-10 mb-10 ",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-companie-name"),className:"block mb-2 font-medium text-sm ",children:"Nombre Comercial"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-create-companie-name"),value:t.company_name,onChange:e=>{let{target:{value:a}}=e;n({...t,company_name:a})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"Ingresa el nombre de la empresa"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-companie-represent"),className:"block mb-2 font-medium text-sm ",children:"Representante legal"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-create-companie-represent"),value:t.responsible_name,onChange:e=>{let{target:{value:a}}=e;n({...t,responsible_name:a})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"Ingresar nombre completo"})]}),(0,a.jsxs)("div",{className:"mb-b",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-companie-represent-document"),className:"block mb-2 font-medium text-sm ",children:"Documento del representante"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-create-companie-represent-document"),value:t.responsible_document,onChange:e=>{let{target:{value:a}}=e;n({...t,responsible_document:a})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,minLength:6,placeholder:"Ingresa el documento del representante"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-companie-email"),className:"block mb-2 font-medium text-sm ",children:"Correo electr\xf3nico"}),(0,a.jsx)("input",{type:"email",id:"".concat(e,"-create-companie-email"),value:t.email,onChange:e=>{let{target:{value:a}}=e;n({...t,email:a})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,minLength:6,placeholder:"Ingresa el correo electr\xf3nico"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-companie-responsible-phone"),className:"block mb-2 font-medium text-sm ",children:"Celular del representante"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-create-companie-responsible-phone"),value:t.responsible_phone,onChange:e=>{let{target:{value:a}}=e;n({...t,responsible_phone:a})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"+51"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-companie-phone"),className:"block mb-2 font-medium text-sm ",children:"Celular"}),(0,a.jsx)("input",{maxLength:9,type:"text",id:"".concat(e,"-create-companie-phone"),value:t.phone,onChange:e=>{let{target:{value:a}}=e;n({...t,phone:a})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"+51"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-companie-ruc"),className:"block mb-2 font-medium text-sm ",children:"RUC"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-create-companie-ruc"),value:t.tax_id,onChange:e=>{let{target:{value:a}}=e;n({...t,tax_id:a})},minLength:6,className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"Ingresa el RUC"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"".concat(e,"-create-companie-address"),className:"block mb-2 font-medium text-sm ",children:"Direcci\xf3n"}),(0,a.jsx)("input",{type:"text",id:"".concat(e,"-create-companie-address"),value:t.address,onChange:e=>{let{target:{value:a}}=e;n({...t,address:a})},className:"w-full py-3 px-5 rounded-br11 bg-bginput text-sm ",required:!0,placeholder:"Ingresa la direcci\xf3n"})]})]}),(0,a.jsx)("hr",{}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"w-full mt-4 bg-primary text-white font-medium py-2 px-4 rounded-br11 hover:bg-tertiary transition-colors text-base",children:"Guardar"})]})})]})}},2702:function(e,t,n){"use strict";var a=n(7437),r=n(3159),s=n(2046);t.Z=e=>{let{name:t,onClick:n,className:o,...l}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("button",{onClick:n,className:(0,s.cn)("btn flex flex-row items-center text-white font-bold text-sm bg-primary rounded-full px-4 py-2 hover:bg-secondary",o),...l,children:[(0,a.jsx)(r.wEH,{className:"mr-2"}),(0,a.jsx)("span",{children:t})]})})}},5215:function(e,t,n){"use strict";n.d(t,{OT:function(){return r},T5:function(){return a},lC:function(){return s}});let a="http://3.14.43.44:4567",r=1,s="production"},6004:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var a=n(5262),r=n(9222),s=n(5215),o=n(1490);let l=o.Z.get("token"),c=r.Z.create({baseURL:s.T5,headers:{Authorization:"Bearer ".concat(l)}}),i=(0,a.gd)({axios:c})},2046:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var a=n(7042),r=n(3986);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m)((0,a.W)(t))}}},function(e){e.O(0,[2420,6115,9982,3190,1677,1729,8085,6820,8920,2971,596,1744],function(){return e(e.s=8771)}),_N_E=e.O()}]);